---
title: Compatibility Dates
---

Zuplo is constantly shipping updates to the underlying runtime of projects.

The compatibility date is set in the `zuplo.jsonc` file at the root of your project.

## 2026-03-01

:::warning

This compatibility date is a future date and is subject to change before it becomes active by default.

:::

### Chain Response Sending Hooks

This compatibility date changes how response sending hooks behave when multiple hooks are registered.

**Before this flag:** All hooks received the **_original_** response, so only the last hook's output was used.

**After this flag:** Hooks are chained properly, each receiving the **_previous hook's response_**.

This change enables more predictable behavior when composing multiple response transformations.

### 501 for Unsupported HTTP Methods

This compatibility date changes how unsupported HTTP methods are handled.

**Before this flag:** Unsupported HTTP methods returned a `500 Internal Server Error`.

**After this flag:** Unsupported HTTP methods return a `501 Not Implemented` response with an [RFC 7807](https://www.rfc-editor.org/rfc/rfc7807) `application/problem+json` body.

## 2025-02-06

This compatibility date introduces a number of breaking changes to improve the overall behavior of Zuplo APIs.

### Special Characters in OpenAPI Format URLs

Previously, special characters that were included in URLs that used the `open-api` formatted URLs weren't escaped.

```
/accounts/open({id})
/accounts/:action
```

### Removed legacy Log Initialization

Previously, several of the Zuplo log plugins could be enabled by setting undocumented environment variables.

If you are setting any of the following environment variables, you should migrate to the log plugin initialization.

```txt
GCP_USER_LOG_NAME
GCP_USER_LOG_SVC_ACCT_JSON
ZUPLO_USER_LOGGER_DATA_DOG_URL
```

### Removed legacy Log Context

Previously, several log plugins used special properties on `context.custom` to set global attributes on logs.

If you are using setting any of the following in your code, you should migrate to the plugin configuration instead.

```ts
context.custom["__ddtags"]; // Sets tags
context.custom["__ddattr"]; // Sets fields
```

Migrate to the following:

```ts
export function runtimeInit(runtime: RuntimeExtensions) {
  runtime.addPlugin(
    new DataDogLoggingPlugin({
      url: "https://http-intake.logs.datadoghq.com/api/v2/logs",
      apiKey: environment.DATADOG_API_KEY,
      source: "MyAPI", // Optional, defaults to "Zuplo"
      tags: {
        tag: "hello",
      },
      fields: {
        field1: "value1",
        field2: "value2",
      },
    }),
  );
}
```

### Improved Node.js Compatibility

The Zuplo runtime doesn't run Node.js, but is compatible with a number of Node.js APIs.

### URL Forward Handler Redirects

The `UrlForwardHandler` now supports the `followRedirects` option. Previously, this option wasn't supported on the forward handler.

## 2024-09-02

The compatibility date allows the ability to call `fetch` to hosts with custom ports.

## 2024-03-14

This compatibility date doesn't include any breaking changes. However, Zuplo made a number of changes to the runtime build process.

Over time, the build changes will be enabled by default on all future deployments regardless of compatibility date.

We expect that this new build process will roll out to all customers (regardless of compatibility date) by the end of April 2024.

## 2024-01-15

This compatibility date includes a several breaking changes to improve the overall behavior of Zuplo APIs.

### Run Outbound Policies on All Responses

Previously, outbound policies would only run on response status ranging from 200-299.

### No Hooks on System Routes

Previously runtime hooks such as `OnRequest` or `OnResponseSending` would run on system routes.

### Remove Cloudflare Location Headers

On SaaS deployments, Zuplo routes all requests through Cloudflare. Cloudflare adds a number of headers to requests.

### Remove Internal Zuplo Headers

Zuplo uses several internal headers to send data between different layers of our systems.
